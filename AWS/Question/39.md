# Question 39
## Question
* A company maintains a searchable repository of items on its website. The data is stored in an Amazon RDS for MySQL database table that contains more than 10 million rows. The database has 2 TB of General Purpose SSD storage. There are millions of updates against this data every day through the company's website.
* The company has noticed that some *insert operations are taking 10 seconds or longer*.
* The company has determined that the *database storage performance* is the problem.
* Which solution addresses this performance issue?

## Option
* A. Change the storage type to Provisioned IOPS SSD.
* B. Change the DB instance to a memory optimized instance class.
* C. Change the DB instance to a burstable performance instance class.
* D. Enable Multi-AZ RDS read replicas with MySQL native asynchronous replication.

## Answer
* A. Change the storage type to Provisioned IOPS SSD.

## Explanation
* describing a performance issue with an Amazon RDS for MySQL database:
  1. More than 10 million rows.
  2. 2 TB of General Purpose SSD (gp2) storage.
  3. Millions of updates daily.
  4. Insert operations taking 10 seconds or longer.
  5. The company has determined that database storage performance is the problem.
* **Option A. Change the storage type to Provisioned IOPS SSD**.
  * General Purpose SSD (gp2) storage provides a baseline of 3 IOPS per GB, with burst capability up to 3,000 IOPS for volumes under 1 TB.
  * For a 2 TB volume, the baseline IOPS would be 2000 GB×3 IOPS/GB=6000 IOPS. However, with "millions of updates against this data every day" and insert operations taking 10 seconds or longer, it's highly likely that the database is consistently pushing beyond the baseline IOPS performance of gp2, or that the sustained workload is exhausting any burst credits.
  * **Provisioned IOPS SSD (io1/io2 Block Express) is designed for I/O-intensive workloads that require consistent, low-latency performance and high throughput**. It allows you to specify a consistent IOPS rate, ensuring that the database can handle the intense write operations. This directly addresses the identified problem of "database storage performance."
* Option B. Change the DB instance to a memory optimized instance class.
  * *Memory-optimized instance classes (e.g., R-series) are beneficial when the database is bottlenecked by insufficient memory*, leading to excessive disk I/O for reading data that should ideally be cached in memory. 
  * But statement states that insert operations are slow (write-intensive)
* Option C. Change the DB instance to a burstable performance instance class.
  * *Burstable performance instance classes (e.g., T-series) are designed for workloads that don't require consistently high CPU performance and can tolerate periods of lower CPU utilization*. They accumulate CPU credits during idle times and can burst when needed. *The problem here is storage I/O performance for writes, not CPU*.
* Option D. Enable Multi-AZ RDS read replicas with MySQL native asynchronous replication.
  * Multi-AZ: Multi-AZ (Multi-Availability Zone) is for high availability and disaster recovery. Does not improve write performance
  * Read Replicas: Read replicas are used to offload read traffic from the primary database, improving read scalability. 



## Thinking
* Option B 和 D 先排除，因為與題目要求不符
* 題目指出是 DB insert operation 目前有問題
* Option D 的 Read Replica 主要是支援 Read Operation 效能不好的問題，與 insert operation 關係不大；而 Multi-AZ 主要是處理 high availability 的問題
* Option B 的 memory optimized 有一點關係，但是 insert performance 比較不好通常的 bottlenect 都是在寫入的部分，並非是因為儲存空間不夠而導致
* 剩下 Option C 和 Option A
* Option C 的 burstable performance instance class 主要是突然提升 CPU 的效能來進行相關資料處理，與題目的需求不大
* 因此剩 Option A