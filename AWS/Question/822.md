# Question 822
## Question
* A company recently migrated its application to AWS. The application runs on *Amazon EC2 Linux instances* in an Auto Scaling group across multiple Availability Zones. The application stores data in an Amazon *Elastic File System (Amazon EFS) file system* that uses *EFS Standard-Infrequent Access storage*. The application indexes the company's files. The index is stored in an Amazon RDS database.
* The company needs to *optimize storage costs* with some application and services changes.
* Which solution will meet these requirements *MOST cost-effectively*?

## Option
* A.Create an Amazon S3 bucket that uses an *Intelligent-Tiering lifecycle policy*. Copy all files to the S3 bucket. Update the application to use Amazon S3 API to store and retrieve files.
* B.Deploy *Amazon FSx for Windows File Server* file shares. Update the application to use CIFS protocol to store and retrieve files.
* C.Deploy *Amazon FSx for OpenZFS file system shares*. Update the application to use the new mount point to store and retrieve files.
* D.Create an Amazon S3 bucket that uses *S3 Glacier Flexible Retrieval*. Copy all files to the S3 bucket. Update the application to use Amazon S3 API to store and retrieve files as standard retrievals.

## Answer
* A. Create an Amazon S3 bucket that uses an Intelligent-Tiering lifecycle policy. Copy all files to the S3 bucket. Update the application to use Amazon S3 API to store and retrieve files.

## Explanation
1. Storage Cost Optimization
   * The current solution uses Amazon EFS with the Infrequent Access (IA) storage class. While EFS IA is a cost-effective option for file storage, Amazon S3 is generally the lowest-cost storage service for durable object storage.
   * Amazon S3 Intelligent-Tiering is specifically designed for cost optimization of data with unknown or changing access patterns.
2. Application and Services Changes
   * The solution requires "some application and services changes." Moving from EFS (a file system with a file-based API) to S3 (an object store with an object-based API) requires updating the application to use the S3 API.

* B. Deploy Amazon FSx for Windows File Server file shares. Update the application to use CIFS protocol to store and retrieve files.
  * More expensive than EFS or S3 for general-purpose file storage
  * Designed for Windows-based workloads that require a native Windows file system (SMB/CIFS protocol) and Active Directory integration, which isn't the current use case (EC2 Linux instances)
* C. Deploy Amazon FSx for OpenZFS file system shares. Update the application to use the new mount point to store and retrieve files.
  * Amazon FSx for OpenZFS is a high-performance, managed file system designed for latency-sensitive, IOPS-intensive workloads like big data analytics or machine learning
  * More expensive, performance-oriented service than EFS or S3.
* D. Create an Amazon S3 bucket that uses S3 Glacier Flexible Retrieval. Copy all files to the S3 bucket. Update the application to use Amazon S3 API to store and retrieve files as standard retrievals.
  * Amazon S3 Glacier Flexible Retrieval is a long-term archive storage class. It has very low storage costs but is designed for data that is rarely accessed (once or twice per year). 
  * Storing an application's files here, which it needs to "store and retrieve as standard retrievals" (which implies frequent access), would be extremely expensive due to the high retrieval fees and retrieval times.


## Thinking
* 基本上不會選 Option B，因為題目是 Amazon EC2 Linux Instances，但是 Amazon FSx for Windows File Server 明顯是 windows，跟 Linux 不符
* Option C 也不應該選，是因為 OpenZFS 是比較 for 高階的資料處理，花費可能要更高
* 其實卡在 Option A, Option D 之間選一個
* 那時候選 Option D 的原因是因為題目