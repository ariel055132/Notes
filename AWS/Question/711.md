# Question 711
## Question 
* An ecommerce company runs its application on AWS. The application uses an Amazon Aurora PostgreSQL cluster in Multi-AZ mode for the underlying database. During a recent promotional campaign, the application experienced heavy read load and write load. Users experienced timeout issues when they aempted to access the application.
* A solutions architect needs to make the application architecture more scalable and highly available.
* Which solution will meet these requirements with the LEAST downtime? 

## Option
* A. Create an Amazon EventBridge rule that has the Aurora cluster as a source. Create an AWS Lambda function to log the state change events of the Aurora cluster. Add the Lambda function as a target for the EventBridge rule. Add additional reader nodes to fail over to.
* B. Modify the Aurora cluster and activate the zero-downtime restart (ZDR) feature. Use Database Activity Streams on the cluster to track the cluster status.
* C. Add additional reader instances to the Aurora cluster. Create an Amazon RDS Proxy target group for the Aurora cluster.
* D. Create an Amazon ElastiCache for Redis cache. Replicate data from the Aurora cluster to Redis by using AWS Database Migration Service (AWS DMS) with a write-around approach.

## Answers
* C. Add additional reader instances to the Aurora cluster. Create an Amazon RDS Proxy target group for the Aurora cluster.

## Explanation
* Need a solution to improve the scalability and high availability of an Amazon Aurora PostgreSQL cluster experiencing heavy read and write load, with the least downtime.
1. A. EventBridge + AWS Lambda
   * Both of them are good for monitoring and trigger actions, but *do not directly address the scalability of read/write load of high availability in terms of read replica scaling*
2. B. Add reader to Aurora Cluster + Database Activity Streams
   * 

3. C. Add reader instances + RDS Proxy Target Group
   * Aurora PostgreSQL supports up to 15 read replicas (reader instances)
   * These instances share the same underlying storage as the primary instance, making them ideal for scaling read operations. When an application experiences heavy read load, distributing those reads across multiple reader instances significantly improves performance and reduces the load on the primary. 
   * Amazon RDS Proxy is a fully managed, highly available database proxy that makes applications more resilient to database failures and helps manage connections. It pools and shares database connections, reducing the overhead on the database and allowing applications to scale more efficiently. 
   * It can also route traffic to healthy instances in case of a failover, improving high availability and reducing application-side connection errors. Implementing RDS Proxy generally involves reconfiguring the application to connect to the proxy endpoint, which can be done with very low downtime.
4. D. ElastiCache + Replication data with AWS DMS 
   * Cache is excellent strategy to offload read traffic from the database for frequently accessed, non-volatile data. This can significantly reduce the read load on Aurora.
   * *using DMS to replicate all data for a "write-around" approach from Aurora to Redis might be overly complex and not the most common or efficient pattern for general caching to offload reads*.

## Thinking
* Amazon Aurora: Relational Database Service, Compatible with MySQL and PostgreSQL
* Amazon DynamoDB: No SQL Service~
* 基本上是 Option C 和 Option D 之間選一個
* 其實 Option C 和 Option D 應該都是能處理題目描述的情況，只是 Option D 比起 Option C 的選項，並沒有太符合 LEAST downtime 的情況
* 問題出在使用 DMS 來進行資料轉移，儘管這能確保 Caching 的資料的正確性，但DMS的轉移需要關機才能進行轉移，沒有 Option C 這麼方便
* Option C 的兩種方法均不需要停機，只是改 config 即可進行設定～


