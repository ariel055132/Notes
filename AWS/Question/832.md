# Question 832
## Question
* A company has an *on-premises SFTP file transfer solution*. The company is migrating to the AWS Cloud to scale the file transfer solution and to optimize costs by using Amazon S3. The company's employees will use their credentials for the on-premises Microsoft Active Directory (AD) to access the new solution. The company wants to keep the current authentication and file access mechanisms. 
* Which solution will meet these requirements with the LEAST operational overhead?

## Option
* A.Configure an S3 File Gateway. Create SMB file shares on the file gateway that use the existing Active Directory to authenticate.
* B.Configure an Auto Scaling group with Amazon EC2 instances to run an SFTP solution. Configure the group to scale up at 60% CPU utilization.
* C.Create an AWS Transfer Family server with SFTP endpoints. Choose the AWS Directory Service option as the identity provider. Use AD Connector to connect the on-premises Active Directory.
* D.Create an AWS Transfer Family SFTP endpoint. Configure the endpoint to use the AWS Directory Service option as the identity provider to connect to the existing Active Directory.


## Answer
* C.Create an AWS Transfer Family server with SFTP endpoints. Choose the AWS Directory Service option as the identity provider. Use AD Connector to connect the on-premises Active Directory.


## Explanation
1. A. Configure an S3 File Gateway. Create SMB file shares on the file gateway that use the existing Active Directory to authenticate.
   * An S3 File Gateway provides a file share that is accessible via the Server Message Block (SMB) or Network File System (NFS) protocol, not SFTP. 
   * The company needs to maintain the SFTP protocol for its file transfer solution. This option doesn't meet the core requirement.
2. B. Configure an Auto Scaling group with Amazon EC2 instances to run an SFTP solution. Configure the group to scale up at 60% CPU utilization.
   * This approach requires a significant amount of operational overhead. 
   * Users need to manage the EC2 instances, the SFTP server software, the scaling logic, and the integration with Active Directory. 
3. **C. Create an AWS Transfer Family server with SFTP endpoints. Choose the AWS Directory Service option as the identity provider. Use AD Connector to connect the on-premises Active Directory.**
   * AWS Transfer Family is a fully managed service that provides SFTP (and other protocols) endpoints, eliminating the need to manage servers. This directly addresses the goal of reducing operational overhead.
   * By using the AWS Directory Service identity provider with an AD Connector, you can connect to the existing on-premises Active Directory. This allows employees to continue using their current AD credentials for authentication, meeting the requirement to keep the current authentication mechanism.
4. D. Create an AWS Transfer Family SFTP endpoint. Configure the endpoint to use the AWS Directory Service option as the identity provider to connect to the existing Active Directory.
   * While it correctly identifies using AWS Transfer Family and AWS Directory Service, it doesn't explicitly mention the use of AD Connector