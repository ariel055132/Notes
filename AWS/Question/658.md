# Question 658
## Question
* A company uses an on-premises network-attached storage (NAS) system to provide file shares to its *high performance computing (HPC) workloads*. The company wants to migrate its latency-sensitive HPC workloads and its storage to the AWS Cloud. The company must be able to *provide NFS and SMB multi-protocol access* from the file system.
* Which solution will meet these requirements with the LEAST latency? (Choose two.)

## Option 
* A.Deploy compute optimized EC2 instances into a cluster placement group.
* B.Deploy compute optimized EC2 instances into a partition placement group.
* C.Attach the EC2 instances to an Amazon FSx for Lustre file system.
* D.Attach the EC2 instances to an Amazon FSx for OpenZFS file system.
* E.Attach the EC2 instances to an Amazon FSx for NetApp ONTAP file system.

## Answer
* A. Deploy compute optimized EC2 instances into a cluster placement group.
* E. Attach the EC2 instances to an Amazon FSx for NetApp ONTAP file system.

## Explanation
1. A. Cluster Placement Group
  * Group EC2 instance physically close together within a single AZ
  * Provides *low-latency, high-bandwidth networking* between compute nodes - ideal for HPC 
  * aka. performance is better
2. B. Partition Placement Group
   * Distributed EC2 instances to different partition, each partition is isolated
   * Designed for large-scale distributed systems where each partition is isolated to reduce failure domain overlap
   * aka. high availability / durability is better
3. C. Amazon FSx for Lustre
   * Very fast, low-latency parallel file system — excellent for HPC.
   * But does NOT support SMB, only NFS (and mostly POSIX compliance).
   * Does not meet the multi-protocol (NFS + SMB) requirement.
4. D. Amazon FSx for OpenZFS
   * Provides NFS access and great performance.
5. E. Amazon FSx for NetApp ONTAP
   * Supports Both NFS and SMB access.

## Thinking
* 基本上就是 Option A & B 之間選一個
* Option C - E 之間選一個
* A, B 的選法就是根據題目需要HPC，所以選擇 A
* 基本上就是卡在 Option C 到 E 之間如何選擇
* 那時候是選擇 C，是因為看到題目需要 high computing，而 FSx for Lustre 則是，而且剩下的選項其實忘記了它們的優缺點
* 然後題目其實也有提醒，就是 NFS，SMB，前者是linux 的 protocol，而 SMB 則是 Windows 的 Protocol，而 FSx for Lustre & FSx for OpenZFS 只支援linux
* 如果需要同時支援 Windows 和 Linux，則需要使用 NetApp ONTAP (看起來只有它同時支援 linux 和 windows)

## Reference
* Q. When should I use Amazon FSx for Lustre, Amazon FSx for OpenZFS and Amazon FSx for NetApp ONTAP?
1. Amazon FSx for Lustre
   * need massive throughput and low-latency I/O.
   * working with HPC, financial simulations, genomics, media rendering, or AI/ML model training.
   * need fast access to data stored in Amazon S3.
2. Amazon FSx for OpenZFS
   * Want ZFS features like snapshots, clones, and data integrity checks.
   * Working with DevOps, container storage, home directories, log storage, or media production.
   * Application expects NFS (v3 or v4.1) and you don’t need SMB.
3. FSx for NetApp ONTAP
   * Enterprise workloads with NFS/SMB, hybrid deployments, multi-protocol access