# Question 744
## Question
* A company is designing a new web service that will run on Amazon EC2 instances behind an Elastic Load Balancing (ELB) load balancer. 
* However, many of the web service clients can only *reach IP addresses authorized on their firewalls*.
* What should a solutions architect recommend to meet the clientsâ€™ needs? 

## Option
* A. A Network Load Balancer with an associated Elastic IP address.
* B. An Application Load Balancer with an associated Elastic IP address.
* C. An A record in an Amazon Route 53 hosted zone pointing to an Elastic IP address.
* D. An EC2 instance with a public IP address running as a proxy in front of the load balancer.

## Answer
* A. A Network Load Balancer with an associated Elastic IP address.

## Explanation
* Core problem is that web service clients have *firewalls configured to only allow traffic to specific, authorized IP addresses.*
1. **A. NLB with associated Elastic IP address**
   * Network Load Balancers (NLBs) operate at Layer 4 (TCP/UDP) and are designed for extreme performance and low latency.
   * NLBs provide a static IP address per Availability Zone, and you can even associate Elastic IP addresses (EIPs) with them. This means the IP addresses clients connect to remain constant.
   * Since the clients need to whitelist specific IP addresses, providing a static IP address via an NLB is the most direct solution. NLBs can forward traffic to target groups that contain EC2 instances, or even Application Load Balancers if Layer 7 features are also needed.
2. B. ALB with associated Elastic IP address
   * Application Load Balancers (ALBs) operate at Layer 7 (HTTP/HTTPS) and provide advanced routing features.
   * However, ALBs do not inherently support static IP addresses or direct association with Elastic IPs. Their IP addresses are dynamic and can change.
   * While you can put an NLB in front of an ALB to achieve a static IP, this option just specifies an ALB, which won't meet the requirement on its own.
3. C. An A record in an Amazon Route 53 hosted zone pointing to an Elastic IP address.
   * An A record points a domain name to an IP address
   * While an Elastic IP (EIP) is a static public IP address, pointing an A record directly to an EIP means that EIP would need to be attached to a single EC2 instance. This would bypass the benefits of using an ELB 
   * This setup would lose the high availability and scalability benefits of an ELB, which is crucial for a "web service running on Amazon EC2 instances behind an Elastic Load Balancing (ELB) load balancer."
4. D. An EC2 instance with a public IP address running as a proxy in front of the load balancer.


## Thinking
* Elastic Load Balancing (ELB) includes:
  1. *Application Load Balancer (ALB)*
    * **Layer**: Layer 7 (Application Layer - HTTP/HTTPS/gRPC)
    * **Best for**: Modern applications, microservices, container-based applications, web applications requiring advanced routing
  2. *Network Load Balancer (NLB)*
    * **Layer**: Layer 4 (Transport Layer - TCP/UDP/TLS)
    * **Best for**: Extremely high performance, low latency applications, and scenarios requiring static IP addresses.It can handle millions of requests per second and is ideal for gaming, IoT, and real-time communication.
  3. *Gateway Load Balancer (GWLB)*
    * **Layer**: Layer 3 (Network Layer)
    * **Best for**: Deploying, scaling, and managing virtual appliances such as firewalls, intrusion detection/prevention systems, and deep packet inspection systems. It acts as a transparent network gateway that directs traffic to and from virtual appliances.